---
amazonUrl: "https://amzn.to/4hNKZwz"
---

<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Moments Missed: A book about pet loss - Dayanne Dockhorn</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Literata:opsz,wght@7..72,200..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/styles.css">
    <link rel="icon" sizes="32x32" type="image/png" href="/favicon-32x32.png">
    <link rel="icon" sizes="64x64" type="image/png" href="/favicon-64x64.png">
    <link rel="canonical" href="{{ metadata.url }}{{ page.url | url }}">
    <meta name="description" content="Moments Missed is an essay on a deeply emotional kind of loss: mourning the passing of a beloved pet. With succinct, tender, and deeply moving prose, the book offers a deeply personal lens on a universal experience.">
    <meta property="og:title" content="Moments Missed: A book about pet loss - Dayanne Dockhorn" />
    <meta property="og:description" content="Moments Missed is an essay on a deeply emotional kind of loss: mourning the passing of a beloved pet. With succinct, tender, and deeply moving prose, the book offers a deeply personal lens on a universal experience." />
    <meta property="og:image" content="https://dayannedockhorn.com/og-image-book-EN.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:locale" content="en_US">
    <meta property="og:url" content="https://dayannedockhorn.com/">

    <script type="application/ld+json">
      {
        "@context": "https://schema.org",
        "@type": "Book",
        "name": "Moments Missed",
        "author": {
          "@type": "Person",
          "name": "Dayanne Dockhorn"
        },
        "publisher": "Author's Edition, 2024",
        "datePublished": "2024-10-01",
        "isbn": "978-65-01-147419-9",
        "numberOfPages": 72,
        "inLanguage": "en",
        "genre": ["Pets", "Grief", "Brazilian Essays", "Letters - Collections"],
        "image": "https://dayannedockhorn.com/pequenas-ausencias.png",
        "description": "Moments Missed is an essay on a particularly painful type of loss: mourning the passing of companion animals.",
        "url": "https://dayannedockhorn.com/en/moments-missed"
      }
    </script>
</head>

<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-CHT0Z6RZYT"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-CHT0Z6RZYT');
</script>

<body class="text-white">
  <nav>
    <ul class="flex justify-center gap-x-10 tracking-widest text-sm uppercase px-10 my-10">
      <li>
        <a href="/">About me</a>
      </li>
      <li class="lg:mr-auto">
        <a href="/#publications">Publications</a>
      </li>
      <li class="hidden md:block lg:ml-auto">
        <a href="https://www.instagram.com/dayannedockhorn" target="_blank">Instagram</a>
      </li>
      <li class="hidden md:block">
        <a href="https://dayannedockhorn.substack.com/" target="_blank">
          Newsletter
        </a>
      </li>
      <li class="hidden md:block">
        <a href="mailto:dayannedockhorn@gmail.com">Email</a>
      </li>
    </ul>
  </nav>

<header class="text-center mt-10 mb-16 container mx-auto lg:mb-24 px-8 md:px-8 lg:px-0">
  <h1 class="text-6xl lg:text-8xl font-['Literata'] tracking-tighter lowercase">
    Moments<br>Missed
  </h1>
</header>

<main>
  <div class="mx-4 md:mx-auto max-w-4xl px-4 pb-32">
    <div class="bg-[#A6B1E1]">
      <img
        src="/mockup-fullcover.jpg"
        alt="Capa do livro Pequenas Ausências"
        class="w-full image-shadow"
      />
    </div>

    <div class="flex flex-col items-center justify-center mt-8 space-y-2.5">
      <a
      href="{{ amazonUrl }}"
      target="_blank"
      class="inline-block bg-[var(--light-pink)] text-[#1f223f] px-8 py-2.5 rounded-full font-bold text-center no-underline hover:bg-[#c998c3] transition text-lg"
    >
      Buy eBook on Amazon
      </a>
      <span class="text-sm text-white opacity-70 flex gap-x-2 justify-center items-center">
        <span>Available instantly</span>
      </span>
    </div>
  </div>

  <div class="about-book py-60 bg-cover bg-no-repeat bg-center bg-fixed">
    <div class="max-w-5xl mx-auto flex justify-end">
      <div class="bg-[var(--light-pink)] p-10 md:w-1/2 lg:w-1/2">
        <h2 class="text-4xl lowercase text-[var(--primary)] font-medium font-['Literata'] mb-6">
          About the book
        </h2>

        <div class="prose prose-black">
          <p><strong>Moments Missed</strong> is an essay on a deeply emotional kind of loss:
            mourning the passing of a beloved pet.</p>

            <p>In the wake of Floki’s goodbye, the author reflects on the
            fleeting moments and subtle absences that fill daily life after loss.</p>

          <p>With succinct, tender, and moving prose, the book offers a personal
            lens on a universal experience.</p>

          <a
            href="{{ amazonUrl }}"
            target="_blank"
            class="inline-block bg-[var(--primary)] text-white px-6 py-2 rounded-full font-bold text-center no-underline hover:bg-[#333863] transition"
          >
            Buy eBook on Amazon
          </a>
        </div>
      </div>
    </div>
  </div>

  <section class="my-32" id="checkout">
    <div class="lg:flex max-w-5xl mx-auto gap-x-10 px-4 lg:px-0">
      <div class="lg:w-1/2 mb-10 lg:mb-0">
        <img
          src="/moments-missed-cover.png"
          alt="Book cover of Moments Missed"
          class="block max-w-full lg:max-w-sm mx-auto mb-4"
        />

        <div class="flex flex-col items-center text-left mx-auto">
          <span class="text-sm block mt-2">
            ⚡ Available instantly
          </span>

          <span class="text-sm block mt-2">
            ✨ Self-published book
          </span>
        </div>
      </div>
      <div class="lg:w-1/2">
        <h2 class="text-3xl lg:text-4xl text-white font-medium font-['Literata'] mb-3">
          Moments Missed
        </h2>

        <p class="text-sm mb-2">by Dayanne Dockhorn</p>

        <div class="flex gap-2 items-center text-sm">
          <div>4.8</div>

          <div class="flex gap-x-0.5 items-center">
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#c60" viewBox="0 0 256 256"><path d="M234.29,114.85l-45,38.83L203,211.75a16.4,16.4,0,0,1-24.5,17.82L128,198.49,77.47,229.57A16.4,16.4,0,0,1,53,211.75l13.76-58.07-45-38.83A16.46,16.46,0,0,1,31.08,86l59-4.76,22.76-55.08a16.36,16.36,0,0,1,30.27,0l22.75,55.08,59,4.76a16.46,16.46,0,0,1,9.37,28.86Z"></path></svg>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#c60" viewBox="0 0 256 256"><path d="M234.29,114.85l-45,38.83L203,211.75a16.4,16.4,0,0,1-24.5,17.82L128,198.49,77.47,229.57A16.4,16.4,0,0,1,53,211.75l13.76-58.07-45-38.83A16.46,16.46,0,0,1,31.08,86l59-4.76,22.76-55.08a16.36,16.36,0,0,1,30.27,0l22.75,55.08,59,4.76a16.46,16.46,0,0,1,9.37,28.86Z"></path></svg>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#c60" viewBox="0 0 256 256"><path d="M234.29,114.85l-45,38.83L203,211.75a16.4,16.4,0,0,1-24.5,17.82L128,198.49,77.47,229.57A16.4,16.4,0,0,1,53,211.75l13.76-58.07-45-38.83A16.46,16.46,0,0,1,31.08,86l59-4.76,22.76-55.08a16.36,16.36,0,0,1,30.27,0l22.75,55.08,59,4.76a16.46,16.46,0,0,1,9.37,28.86Z"></path></svg>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#c60" viewBox="0 0 256 256"><path d="M234.29,114.85l-45,38.83L203,211.75a16.4,16.4,0,0,1-24.5,17.82L128,198.49,77.47,229.57A16.4,16.4,0,0,1,53,211.75l13.76-58.07-45-38.83A16.46,16.46,0,0,1,31.08,86l59-4.76,22.76-55.08a16.36,16.36,0,0,1,30.27,0l22.75,55.08,59,4.76a16.46,16.46,0,0,1,9.37,28.86Z"></path></svg>
            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="#c60" viewBox="0 0 256 256"><path d="M234.29,114.85l-45,38.83L203,211.75a16.4,16.4,0,0,1-24.5,17.82L128,198.49,77.47,229.57A16.4,16.4,0,0,1,53,211.75l13.76-58.07-45-38.83A16.46,16.46,0,0,1,31.08,86l59-4.76,22.76-55.08a16.36,16.36,0,0,1,30.27,0l22.75,55.08,59,4.76a16.46,16.46,0,0,1,9.37,28.86Z"></path></svg>
          </div>

          <div class="ml-2">
            <a
              href="https://amzn.to/41aSAQ9#averageCustomerReviewsAnchor"
              target="_blank"
              class="underline"
            >
              61 reader ratings
            </a>
          </div>
        </div>

        <hr class="border-white my-4 opacity-25"/>

        <div class="prose prose-white prose-strong:text-white prose-p:text-white prose-p:text-base prose-p:leading-relaxed mb-6">
          <p>Everyday life is filled with simple moments that can easily be overlooked. In <strong>Moments Missed</strong>,
            Dayanne Dockhorn reflects on these moments while trying to recover after losing her pet rabbit.</p>

          <p>Written in the form of letters addressed to Floki, the book speaks to all those who are passionate
            about cats, dogs, and of course, rabbits.</p>

          <p>The author reimagines grief as a space, setting, and character to challenge the notion that,
            when it pertains to the death of pets, it is often not taken seriously—even
            though many humans spend their best days with them.
            </p>
        </div>

        <div class="flex flex-col gap-y-5">
          <a
            href="{{ amazonUrl }}"
            target="_blank"
            id="buyEbookButton"
            class="w-full block bg-[#c998c3] text-black px-6 py-2 rounded-full font-bold text-center no-underline hover:bg-[#b87caf] transition"
          >
          Buy eBook on Amazon
          </a>
        </div>
      </div>
    </div>
  </section>

  <div id="reviews" class="py-24 lg:px-4 bg-[var(--green)] text-[#282a43]">
    <div class=" mx-auto">
      <h2 class="text-center text-4xl lowercase font-medium font-['Literata'] mb-10">
        Reader Reviews
      </h2>

      <div class="snap-x snap-mandatory scroll-pl-4 scroll-pr-4 overflow-x-auto lg:overflow-visible flex items-start gap-6 lg:gap-12 lg:grid lg:grid-cols-4 lg:justify-center max-w-7xl mx-auto">
        {% for reviews in reviewsEn | slice(4) %}
          <div class="first:pl-4 last:pr-4 lg:first:pl-0 flex items-start lg:flex-col gap-6 lg:gap-12">
            {% for review in reviews %}
              <blockquote
                class="solid-shadow snap-center bg-white mb-2 md:mb-0 p-6 min-w-72"
                itemscope
                itemtype="http://schema.org/Review"
              >
                <div
                  itemscope
                  itemprop="itemReviewed"
                  itemtype="http://schema.org/Book"
                >
                  <meta itemprop="name" content="Moments Missed" />
                  <meta itemprop="author" content="Dayanne Dockhorn" />
                </div>

                <header>
                  <h3
                    class="font-bold font-['Literata']"
                    itemprop="name"
                  >
                    {{ review.title }}
                  </h3>
                </header>

                <div
                  class="my-2"
                  itemprop="reviewBody"
                >
                  <p class="text-[#282a43] text-sm">
                    {{ review.body }}
                  </p>
                </div>

                <footer
                  class="flex items-center gap-x-2 mt-2"
                  itemprop="author"
                  itemscope
                  itemtype="http://schema.org/Person"
                >
                  <img
                    src="/img/reviews/{{ review.author.image }}"
                    alt=""
                    class="rounded-full"
                    width="28"
                    height="28"
                    itemprop="image"
                  />

                  <div>
                    <span
                      itemprop="name"
                      class="text-xs text-[#474A76]"
                    >
                      {{ review.author.name }}
                    </span>
                    <meta
                      itemprop="datePublished"
                      content="{{ review.datePublished }}"
                    >
                  </div>
                </footer>

              </blockquote>
            {% endfor %}
          </div>
        {% endfor %}
      </div>
    </div>
  </div>

  <div class="bg-white py-24">
    <div class="container mx-auto lg:flex justify-center gap-x-20">
      <div class="max-w-80 mx-auto lg:mx-0 h-fit bg-[#DCD6F7]">
        <img
          src="/dayanne-dockhorn.jpg"
          alt="Dayanne Dockhorn"
          class="image-shadow border-none block"
        />
      </div>

      <div class="max-w-md mx-auto lg:mx-0 mt-10 px-6 lg:px-0">
        <h2 class="text-4xl lowercase text-[var(--primary)] font-medium font-['Literata'] mb-6">
          About the author
        </h2>

        <div class="prose prose-black lg:prose-lg">
          <p>
            Dayanne Dockhorn is an anthropologist, essayist, and fiction writer who has been writing
            for more than 15 years, discovering in literature a means of expression. Born in Porto Alegre,
            she now lives in Florianópolis, Brazil, with her husband Martín and Olívia, her pet rabbit.
            <em>Moments Missed</em> is her debut book.
          </p>
        </div>

        <div class="flex gap-x-1 items-center mt-5">
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="#424874" viewBox="0 0 256 256"><path d="M128,80a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160ZM176,24H80A56.06,56.06,0,0,0,24,80v96a56.06,56.06,0,0,0,56,56h96a56.06,56.06,0,0,0,56-56V80A56.06,56.06,0,0,0,176,24Zm40,152a40,40,0,0,1-40,40H80a40,40,0,0,1-40-40V80A40,40,0,0,1,80,40h96a40,40,0,0,1,40,40ZM192,76a12,12,0,1,1-12-12A12,12,0,0,1,192,76Z"></path></svg>
          <a href="https://www.instagram.com/dayannedockhorn" target="_blank" class="text-[var(--primary)] no-underline">
            dayannedockhorn
          </a>
        </div>
      </div>
    </div>
  </div>
</main>

<div class="bg-white text-[var(--primary)] ">
  <footer class="flex justify-between align-center  mx-10 py-5 border-t border-dashed border-[var(--primary)] opacity-80">
    <p class="text-sm uppercase tracking-widest m-0">&copy; Dayanne Dockhorn</p>
    <p class="text-sm uppercase tracking-widest m-0">&ndash; 13 &ndash;</p>
  </footer>
</div>

<div id="checkout-backdrop" class="fixed inset-0 bg-black bg-opacity-50 hidden"></div>

<div
  id="outofstock-form"
  class="fixed top-0 right-0 h-full w-full md:w-[480px] bg-white p-8 transform translate-x-full transition-transform duration-300 ease-in-out overflow-y-auto shadow-xl z-50"
>
  <button type="button" id="close-drawer" class="absolute top-4 right-4 text-black hover:opacity-70">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 256 256">
      <path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"></path>
    </svg>
  </button>

  <form
    class="flex flex-col text-black gap-y-4"
    action="https://api.web3forms.com/submit"
    method="POST"
  >
    <input
      type="hidden"
      name="access_key"
      value="3f7b0cf6-79e7-46be-a63e-4c426e2cd2c5"
    />

    <h2 class="text-black text-2xl font-medium font-['Literata'] mb-2">
      Livro impresso esgotado
    </h2>

    <div class="bg-amber-100 border border-amber-200 text-xs md:text-sm text-black px-4 py-2.5 rounded-md text-center">
      📢 Cadastre seu e-mail para ser avisado quando Pequenas Ausências voltar ao estoque!
    </div>

    <div class="flex flex-col gap-y-1">
      <label
        for="nome"
        class="text-black uppercase font-normal text-xs tracking-widest mb-1 opacity-80"
      >
        Nome completo
      </label>

      <input
        type="text"
        name="nome"
        placeholder="Nome completo"
        class="form-input"
        id="nome"
        required
      />
    </div>

    <div class="flex flex-col gap-y-1">
      <label
        for="email"
        class="text-black uppercase font-normal text-xs tracking-widest mb-1 opacity-80"
      >
        Email
      </label>

      <input
        type="email"
        name="email"
        placeholder="Email"
        class="form-input"
        id="email"
        autocomplete="email"
        required
      />
    </div>

    <button
      type="submit"
      class="bg-[var(--light-pink)] text-black px-6 py-2 rounded-full font-bold text-center no-underline hover:bg-[#C99DC4] transition block w-full"
    >
      Avise-me
    </button>
  </form>

  <div id="success-message" class="hidden mt-4">
    <h2 class="text-black text-2xl font-medium font-['Literata'] mb-2">
      Obrigada pelo seu interesse!
    </h2>

    <p class="text-base text-black mb-4">
      Avisarei você quando o livro impresso voltar ao estoque.
      Enquanto isso, você pode adquirir a versão digital do livro.
    </p>

    <a
      href="https://amzn.to/3VdowA1"
      target="_blank"
      class="bg-[var(--light-pink)] text-black px-6 py-2 rounded-full font-bold text-center no-underline hover:bg-[#C99DC4] transition block w-full"
    >
      Buy eBook on Amazon
    </a>
  </div>
</div>


{#
<!--
<div id="checkout-form" class="fixed top-0 right-0 h-full w-full md:w-[480px] bg-white p-8 transform translate-x-full transition-transform duration-300 ease-in-out overflow-y-auto shadow-xl z-50">
  <form
    class="flex flex-col text-black gap-y-4"
    action="https://api.web3forms.com/submit"
    method="POST"
  >
    <input
      type="hidden"
      name="access_key"
      value="3f7b0cf6-79e7-46be-a63e-4c426e2cd2c5"
    />

    <button type="button" id="close-drawer" class="absolute top-4 right-4 text-black hover:opacity-70">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 256 256">
        <path d="M205.66,194.34a8,8,0,0,1-11.32,11.32L128,139.31,61.66,205.66a8,8,0,0,1-11.32-11.32L116.69,128,50.34,61.66A8,8,0,0,1,61.66,50.34L128,116.69l66.34-66.35a8,8,0,0,1,11.32,11.32L139.31,128Z"></path>
      </svg>
    </button>

    <h2 class="text-black text-2xl font-medium font-['Literata'] mb-2">
      Dados de entrega
    </h2>

    <div class="bg-[var(--light-green)] text-xs text-black px-4 py-2.5 rounded-md text-center">
      🚚 Frete grátis para todo Brasil
    </div>

    <div class="flex flex-col gap-y-1">
      <label for="nome" class="text-black uppercase font-normal text-xs tracking-widest mb-1 opacity-80">
        Nome completo
      </label>
      <input
        type="text"
        name="nome"
        placeholder="Nome completo"
        class="form-input"
        id="nome"
        required
      />
    </div>

    <div class="flex flex-col gap-y-1">
      <label for="email" class="text-black uppercase font-normal text-xs tracking-widest mb-1 opacity-80">
        Email
      </label>
      <input
        type="email"
        name="email"
        placeholder="Email"
        class="form-input"
        id="email"
        autocomplete="email"
        required
      />
    </div>

    <div class="flex flex-col gap-y-1">
      <label for="dedicatoria" class="text-black text-balance uppercase font-normal text-xs tracking-widest mb-1 opacity-80">
        O livro será autografado?
      </label>
      <textarea
        placeholder="Se sim, para quem?"
        name="dedicatoria"
        id="dedicatoria"
        class="form-input"
        rows="3"
      ></textarea>
    </div>

    <div class="flex flex-col gap-y-1">
      <label for="cep" class="text-black uppercase font-normal text-xs tracking-widest mb-1 opacity-80">
        CEP
      </label>
      <input
        id="cep"
        name="cep"
        type="text"
        placeholder="CEP"
        class="form-input"
        max-length="20"
        inputmode="numeric"
        autocomplete="postal-code"
        required
      />
      <a
        href="http://www.buscacep.correios.com.br/sistemas/buscacep/"
        target="_blank"
        class="text-black underline text-xs"
      >
        Não sei meu CEP
      </a>
    </div>

    <input type="hidden" name="street" required>
    <input type="hidden" name="city" required>
    <input type="hidden" name="state" required>

    <div id="endereco" class="flex flex-col lg:flex-row gap-y-4 gap-x-4">
      <div class="grow">
        <label for="numero" class="block text-black uppercase font-normal text-xs tracking-widest mb-1 opacity-80">
          Número
        </label>
        <input
          type="text"
          name="numero"
          placeholder="Número"
          class="form-input block w-full"
          id="numero"
          required
        />
      </div>
      <div class="grow">
        <label for="complemento" class="block text-black uppercase font-normal text-xs tracking-widest mb-1 opacity-80">
          Complemento
        </label>
        <input
          type="text"
          name="complemento"
          placeholder="Complemento"
          class="form-input block w-full"
          id="complemento"
        />
      </div>
    </div>

    <div>
      <button type="submit" class="bg-[var(--light-pink)] text-black px-6 py-2 rounded-full font-bold text-center no-underline hover:bg-[#C99DC4] transition block w-full">
        Ir para o pagamento
      </button>

      <div class="text-center text-xs text-black opacity-60 mt-2">
        Pague com PIX, cartão de crédito ou boleto
      </div>
    </div>
  </form>
</div>
-->
#}

<style>
  body {
    background-color: var(--primary);
  }
  .top-bar {
    background-color: var(--light-green);
    color: #000;
    font-size: 1.75rem;
    margin: 1rem;
    padding: 10px 0;
    text-align: center;
  }
  .container {
    padding: 0 15px;
  }
  #checkout-form::-webkit-scrollbar {
    width: 8px;
  }
  #checkout-form::-webkit-scrollbar-track {
    background: var(--primary);
  }
  #checkout-form::-webkit-scrollbar-thumb {
    background-color: rgba(255, 255, 255, 0.2);
    border-radius: 4px;
  }
</style>


{#
<!--
<script>
  function redirectToPortuguese() {
    const userLang = navigator.language || navigator.userLanguage;

    if (userLang.startsWith('pt')) {
      window.location.href = '/pequenas-ausencias';
    }
  }

  //redirectToPortuguese();

  document.addEventListener('DOMContentLoaded', () => {
    const form = document.querySelector('form');
    const submitButton = form.querySelector('button[type="submit"]');
    const cepInput = form.querySelector('#cep');
    const cepLabel = form.querySelector('label[for="cep"]');
    const enderecoContainer = form.querySelector('#endereco');
    const naoSeiCepLink = form.querySelector('a[href*="buscacep.correios.com.br"]');
    const successMessage = document.getElementById('success-message');

    // Hide address fields on load
    enderecoContainer.style.display = 'none';

    // Create loader element
    const loader = document.createElement('span');
    loader.className = 'loader';
    loader.style.display = 'none';
    cepInput.parentNode.insertBefore(loader, cepInput.nextSibling);

    // Handle CEP input
    cepInput.addEventListener('input', async (e) => {
      const cep = e.target.value.replace(/\D/g, '');
      if (cep.length === 8) {
        cepInput.disabled = true;
        cepInput.style.color = 'gray';
        loader.style.display = 'inline-block';
        try {
          const response = await fetch(`https://brasilapi.com.br/api/cep/v1/${cep}`);
          if (!response.ok) {
            throw new Error('CEP não encontrado');
          }
          const data = await response.json();
          if (data.cep) {
            enderecoContainer.style.display = 'flex';
            replaceCepWithAddress(data);
            naoSeiCepLink.style.display = 'none';
          }
        } catch (error) {
          console.error('Error fetching CEP:', error);
          alert('CEP não encontrado. Por favor, verifique o CEP inserido.');
          cepInput.disabled = false;
          cepInput.style.color = '';
          cepInput.focus();
        } finally {
          loader.style.display = 'none';
        }
      }
    });

    function replaceCepWithAddress(data) {
      const addressHtml = `
        <div class="bg-transparent border border-black border-dashed text-sm text-black p-4">
          <div class="flex items-center gap-x-4 review-block-detailed-item">
            <div class="user-detail-icon icon-area">
              <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#000" viewBox="0 0 256 256"><path d="M128,64a40,40,0,1,0,40,40A40,40,0,0,0,128,64Zm0,64a24,24,0,1,1,24-24A24,24,0,0,1,128,128Zm0-112a88.1,88.1,0,0,0-88,88c0,31.4,14.51,64.68,42,96.25a254.19,254.19,0,0,0,41.45,38.3,8,8,0,0,0,9.18,0A254.19,254.19,0,0,0,174,200.25c27.45-31.57,42-64.85,42-96.25A88.1,88.1,0,0,0,128,16Zm0,206c-16.53-13-72-60.75-72-118a72,72,0,0,1,144,0C200,161.23,144.53,209,128,222Z"></path></svg>
            </div>
            <div class="center-area p-right">
              <div class="content">
                <p>${data.street}</p>
                <p><span class="text-bold">${data.cep}</span> - ${data.neighborhood}</p>
                <p>${data.city} - ${data.state}</p>
              </div>
            </div>
            <div class="change-button-area ml-auto">
              <div class="block-flex">
                <button id="change-address" class="text-black underline text-xs" type="button">
                  Alterar
                </button>
              </div>
            </div>
          </div>
        </div>
      `;

      form.querySelector('input[name="street"]').value = data.street;
      form.querySelector('input[name="city"]').value = data.city;
      form.querySelector('input[name="state"]').value = data.state;

      const addressElement = document.createElement('div');
      addressElement.innerHTML = addressHtml;

      // Create hidden input for CEP
      const hiddenCepInput = document.createElement('input');
      hiddenCepInput.type = 'hidden';
      hiddenCepInput.name = 'cep';
      hiddenCepInput.value = data.cep;

      // Replace visible input with address display and hidden input
      const container = document.createElement('div');
      container.appendChild(addressElement);
      container.appendChild(hiddenCepInput);
      cepInput.parentNode.replaceChild(container, cepInput);
      cepLabel.style.display = 'none';

      // Add event listener to the "Alterar" button
      const changeButton = addressElement.querySelector('#change-address');
      changeButton.addEventListener('click', () => {
        form.querySelector('input[name="street"]').value = '';
        form.querySelector('input[name="city"]').value = '';
        form.querySelector('input[name="state"]').value = '';

        container.parentNode.replaceChild(cepInput, container);
        cepInput.value = '';
        cepInput.disabled = false;
        cepInput.style.color = '';
        cepLabel.style.display = '';
        enderecoContainer.style.display = 'none';
        naoSeiCepLink.style.display = '';
      });
    }

    // Form submission
    form.addEventListener('submit', async (e) => {
      e.preventDefault();

      const storedReferral = localStorage.getItem('ref');
      const submitButton = form.querySelector('button[type="submit"]');
      const originalButtonText = submitButton.textContent;

      // Validate required fields
      const requiredFields = form.querySelectorAll('[required]');
      let isValid = true;
      requiredFields.forEach(field => {
        if (!field.value.trim()) {
          isValid = false;
          field.classList.add('border-red-500');
        } else {
          field.classList.remove('border-red-500');
        }
      });

      if (!isValid) {
        alert('Por favor, preencha todos os campos obrigatórios.');
        return;
      }

      // Update button text and disable it
      submitButton.textContent = 'Processando seus dados...';
      submitButton.disabled = true;

      // Create FormData object
      const formData = new FormData(form);

      if (storedReferral !== null) {
        formData.set('Referral', storedReferral);
      }

      const object = Object.fromEntries(formData);
      const json = JSON.stringify(object);

      try {
        const response = await fetch('https://api.web3forms.com/submit', {
          method: 'POST',
          headers: {
            'Content-Type': 'application/json',
            'Accept': 'application/json'
          },
          body: json
        });

        const result = await response.json();

        if (response.status === 200) {
          console.log(result.message);
          // Handle success (e.g., show success message, clear form)
          form.reset();

          // Hide the form and show success message
          form.classList.add('hidden');
          successMessage.classList.remove('hidden');

          // Redirect to checkout page
          // window.location.href = 'https://loja.infinitepay.io/dayanne-dockhorn/cxs0623-livro-pequenas-ausencias';
        } else {
          console.error(result.message);
          throw new Error('Erro ao enviar o formulário');
        }
      } catch (error) {
        console.error('Error:', error);
        alert('Ocorreu um erro ao enviar o formulário. Por favor, tente novamente.');
      } finally {
        // Reset button text and re-enable it
        submitButton.textContent = originalButtonText;
        submitButton.disabled = false;
      }
    });
  });
</script>
-->
#}

{#
<!--
<script>
  const referralEnabled = false;
  let referralBannerText = '';
  let storedReferral = localStorage.getItem('ref');
  let params = new URLSearchParams(document.location.search);
  let referralName = params.get('ref');

  if (referralEnabled === false) {
    localStorage.removeItem('ref');
  } else if (storedReferral === 'resgatecoelhosdasaude' || referralName === 'resgatecoelhosdasaude') {
    const referralBanner = document.getElementById('referralBanner');
    const ebookButton = document.getElementById('buyEbookButton');

    localStorage.setItem('ref', referralName);

    if (ebookButton) {
      ebookButton.classList.add('hidden');
    }

    if (referralBanner) {
      referralBanner.classList.remove('hidden');
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    const checkoutForm = document.getElementById('outofstock-form');
    const checkoutBackdrop = document.getElementById('checkout-backdrop');
    const closeDrawer = document.getElementById('close-drawer');
    const buyButtons = document.querySelectorAll('button.checkout-button');

    function openDrawer() {
      checkoutForm.classList.remove('translate-x-full');
      checkoutBackdrop.classList.remove('hidden');
      document.body.style.overflow = 'hidden';
    }

    function closeDrawerHandler() {
      checkoutForm.classList.add('translate-x-full');
      checkoutBackdrop.classList.add('hidden');
      document.body.style.overflow = '';
    }

    buyButtons.forEach(button => {
      button.addEventListener('click', (e) => {
        e.preventDefault();
        openDrawer();
      });
    });

    closeDrawer.addEventListener('click', closeDrawerHandler);
    checkoutBackdrop.addEventListener('click', closeDrawerHandler);
  });
</script>
-->
#}

</body>
</html>
