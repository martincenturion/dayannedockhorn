<!DOCTYPE html>
<html lang="pt-BR" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Pequenas Ausências - Dayanne Dockhorn</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Literata:opsz,wght@7..72,200..900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <link rel="icon" sizes="32x32" type="image/png" href="favicon-32x32.png">
    <link rel="icon" sizes="64x64" type="image/png" href="favicon-64x64.png">
    <meta name="description" content="Em uma narrativa delicada e sensível, vislumbramos um olhar único sobre um tema pouco discutido: o luto pelos animais de estimação.">
    <meta property="og:title" content="Pequenas Ausências - Dayanne Dockhorn" />
    <meta property="og:description" content="Em uma narrativa delicada e sensível, vislumbramos um olhar único sobre um tema pouco discutido: o luto pelos animais de estimação." />
    <meta property="og:image" content="https://dayannedockhorn.com/og-image.jpg">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:locale" content="pt_BR">
    <meta property="og:url" content="https://dayannedockhorn.com/pequenas-ausencias">
</head>
<body class="text-white">
  <div class="rounded-sm bg-[var(--light-pink)] py-4 w-full border-8 border-[var(--primary)]">
    <div class="container mx-auto flex flex-col md:flex-row justify-center items-center gap-y-2 gap-x-4">
      <p class="text-black text-sm lg:text-base text-center">
        Meu novo livro já está em pré-venda!
      </p>

      <a href="#comprar" class="block bg-[var(--primary)] text-white px-3 py-1.5 rounded-md font-semibold text-center no-underline hover:bg-[#333863] transition">
        Garanta seu exemplar
      </a>
    </div>
  </div>

  <!--
  <nav>
    <ul class="flex justify-center gap-x-10 tracking-widest text-sm uppercase px-10 my-10">
        <li class="hidden md:block">
          <a href="#about">Sobre mim</a>
        </li>
        <li class="hidden md:block lg:mr-auto">
          <a href="#publications">Publicações</a>
        </li>
        <li class="lg:ml-auto">
          <a href="https://www.instagram.com/dayannedockhorn" target="_blank">Instagram</a>
        </li>
        <li>
          <a href="https://dayannedockhorn.substack.com/" target="_blank">
            Newsletter
          </a>
        </li>
        <li>
          <a href="mailto:dayannedockhorn@gmail.com">Email</a>
        </li>
    </ul>
  </nav>
  -->

<header class="text-center mt-10 mb-16 container mx-auto lg:mb-24 px-8 md:px-8 lg:px-0">
  <span class="text-sm uppercase tracking-widest bg-[#A6B1E1] text-black px-2 py-1 rounded-md">
    Pré-venda
  </span>

  <h1 class="text-6xl lg:text-8xl font-['Literata'] tracking-tighter lowercase">
    Pequenas<br>Ausências
  </h1>
</header>

<main>
  <div class="mx-4 md:mx-auto max-w-4xl px-4">
    <div class="bg-[#A6B1E1]">
      <img
        src="mockup-fullcover.jpg"
        alt="Capa do livro Pequenas Ausências"
        class="w-full image-shadow"
      />
    </div>
  </div>

  <div class="flex flex-col md:flex-row items-start gap-y-5 gap-x-5 max-w-2xl mx-4 md:mx-auto bg-[var(--green)] my-24 p-9">
    <img
      src="thais-campolina.jpg"
      alt="Thaís Campolina"
      class="w-24 h-24 mt-1.5 rounded-full"
    />

    <blockquote class="text-black text-lg font-['Literata']">
      <p>
        &ldquo;O cotidiano é repleto de momentos singelos que facilmente passam despercebidos.
        Em <span class="italic">Pequenas Ausências</span>, Dayanne Dockhorn volta-se a eles enquanto busca se refazer
        após a perda (...)&rdquo;
      </p>
      <p class="text-right mt-1.5">
        <span>&ndash; Thaís Campolina</span>
      </p>
    </blockquote>
  </div>

  <div class="about-book py-60 bg-cover bg-no-repeat bg-center bg-fixed">
    <div class="max-w-5xl mx-auto flex justify-end">
      <div class="bg-[var(--light-pink)] p-10 md:w-1/2 lg:w-1/2">
        <h2 class="text-4xl lowercase text-[var(--primary)] font-medium font-['Literata'] mb-6">Sobre o livro</h2>

        <div class="prose prose-black">
          <p>
            A partir da despedida repentina de Floqui, Dayanne descreve em cartas como o seu dia
            a dia é transformado após a perda.
          </p>
          <p>
            Em uma narrativa delicada e sensível, vislumbramos um olhar único sobre um tema pouco
            discutido: o luto pelos animais de estimação.
          </p>

          <a href="#comprar" class="inline-block bg-[var(--primary)] text-white px-6 py-2 rounded-md font-bold text-center no-underline hover:bg-[#333863] transition">
            Quero meu livro autografado!
          </a>
        </div>
      </div>
    </div>
  </div>

  <div id="comprar" class="bg-[var(--primary)] py-24">
    <div class="container mx-auto">
      <h2 class="text-center text-balance text-4xl lowercase text-white font-medium font-['Literata'] mb-14">
        Como funciona a pré-venda
      </h2>

      <div class="flex flex-col lg:flex-row gap-y-10 gap-x-10 items-start max-w-4xl mx-auto">
        <div class="prose bg-[var(--green)] p-10 max-w-96 lg:sticky top-5">
          <p>
            Ao comprar o livro na pré-venda, você garante seu exemplar na primeira tiragem e <strong>ganha acesso ao ebook</strong>.
          </p>
          <p>
            Os livros serão enviados na data do lançamento (a ser definida).
          </p>
          <p>
            Para retirada (Porto Alegre ou Florianópolis), entre em contato para combinar dia e horário.
          </p>
        </div>

        <div class="grow w-full">
          <form
            class="flex flex-col text-black gap-y-4"
            action="https://api.web3forms.com/submit"
            method="POST"
          >
          <input
            type="hidden"
            name="access_key"
            value="3f7b0cf6-79e7-46be-a63e-4c426e2cd2c5"
          />

            <div class="flex flex-col gap-y-1">
              <label class="text-white uppercase font-normal text-xs tracking-widest mb-1 opacity-80">
                Opções de entrega
              </label>

              <label for="retirar" class="inline-flex items-center text-white">
                <input type="radio" value="Retirar (POA/Floripa)" name="entrega" id="retirar" class="form-radio" />
                <span class="ml-2">
                  Retirar (Porto Alegre ou Florianópolis):
                  <strong class="block md:inline">R$ 55</strong>
                </span>
              </label>

              <label for="correios" class="inline-flex items-center text-white">
                <input type="radio" value="Envio por Correios" name="entrega" id="correios" />
                <span class="ml-2">
                  Envio por Correios (frete incluso):
                  <strong class="block md:inline">R$ 75</strong>
                </span>
              </label>
            </div>

            <div class="flex flex-col gap-y-1">
              <label for="nome" class="text-white uppercase font-normal text-xs tracking-widest mb-1 opacity-80">
                Nome completo
              </label>
              <input type="text" placeholder="Nome completo" class="form-input" id="nome" required />
            </div>

            <div class="flex flex-col gap-y-1">
              <label for="email" class="text-white uppercase font-normal text-xs tracking-widest mb-1 opacity-80">
                Email
              </label>
              <input
                type="email"
                placeholder="Email"
                class="form-input"
                id="email"
                autocomplete="email"
                required
              />
            </div>

            <div class="flex flex-col gap-y-1">
              <label for="whatsapp" class="text-white uppercase font-normal text-xs tracking-widest mb-1 opacity-80">
                WhatsApp (com DDD)
              </label>
              <input type="text" placeholder="WhatsApp (com DDD)" class="form-input" id="whatsapp" required />
            </div>

            <div class="flex flex-col gap-y-1">
              <label for="dedicatoria" class="text-white text-balance uppercase font-normal text-xs tracking-widest mb-1 opacity-80">
                O livro será autografado?
              </label>
              <textarea
                placeholder="Se sim, para quem?"
                id="dedicatoria"
                class="form-input"
                rows="3"
              ></textarea>
            </div>

            <div class="flex flex-col gap-y-1">
              <label for="cep" class="text-white uppercase font-normal text-xs tracking-widest mb-1 opacity-80">
                CEP
              </label>
              <input
                id="cep"
                name="cep"
                type="text"
                placeholder="CEP"
                class="form-input"
                max-length="20"
                inputmode="numeric"
                autocomplete="postal-code"
                required
              />
              <a href="http://www.buscacep.correios.com.br/sistemas/buscacep/" target="_blank" class="text-[var(--light-pink)] text-xs">
                Não sei meu CEP
              </a>
            </div>

            <div id="endereco" class="flex flex-col lg:flex-row gap-y-4 gap-x-4">
              <div class="grow">
                <label for="numero" class="block text-white uppercase font-normal text-xs tracking-widest mb-1 opacity-80">
                  Número
                </label>
                <input type="text" placeholder="Número" class="form-input block w-full" id="numero" required />
              </div>

              <div class="grow">
                <label for="complemento" class="block text-white uppercase font-normal text-xs tracking-widest mb-1 opacity-80">
                  Complemento
                </label>
                <input type="text" placeholder="Complemento" class="form-input block w-full" id="complemento" />
              </div>
            </div>

            <button type="submit" class="bg-[var(--light-pink)] text-black px-6 py-2 rounded-md font-bold text-center no-underline hover:bg-[#C99DC4] transition">
              Efetuar pagamento com PIX
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <div class="bg-white py-24">
    <div class="container mx-auto lg:flex justify-center gap-x-20">
      <div class="max-w-80 mx-auto lg:mx-0 h-fit bg-[#DCD6F7]">
        <img
          src="dayanne-dockhorn.jpg"
          alt="Dayanne Dockhorn"
          class="image-shadow border-none block"
        />
      </div>

      <div class="max-w-md mx-auto lg:mx-0 mt-10 px-6 lg:px-0">
        <h2 class="text-4xl lowercase text-[var(--primary)] font-medium font-['Literata'] mb-6">
          Sobre a autora
        </h2>

        <div class="prose prose-black lg:prose-lg">
          <p>
            Antropóloga, ensaísta e ficcionista, <span class="font-bold">Dayanne Dockhorn</span> escreve há mais de 15 anos e encontra
            na literatura uma forma de expresão. Nascida em Porto Alegre, hoje vive em Florianópolis com
            Martín, seu marido, e Olívia, sua coelha de estimação. <em>Pequenas Ausências</em> é seu livro de estreia.
          </p>
        </div>

        <div class="flex gap-x-1 items-center mt-5">
          <svg xmlns="http://www.w3.org/2000/svg" width="22" height="22" fill="#424874" viewBox="0 0 256 256"><path d="M128,80a48,48,0,1,0,48,48A48.05,48.05,0,0,0,128,80Zm0,80a32,32,0,1,1,32-32A32,32,0,0,1,128,160ZM176,24H80A56.06,56.06,0,0,0,24,80v96a56.06,56.06,0,0,0,56,56h96a56.06,56.06,0,0,0,56-56V80A56.06,56.06,0,0,0,176,24Zm40,152a40,40,0,0,1-40,40H80a40,40,0,0,1-40-40V80A40,40,0,0,1,80,40h96a40,40,0,0,1,40,40ZM192,76a12,12,0,1,1-12-12A12,12,0,0,1,192,76Z"></path></svg>
          <a href="https://www.instagram.com/dayannedockhorn" target="_blank" class="text-[var(--primary)] no-underline">
            dayannedockhorn
          </a>
        </div>
      </div>
    </div>
  </div>
</main>

<div class="bg-white text-[var(--primary)] ">
<footer class="flex justify-between align-center  mx-10 py-5 border-t border-dashed border-[var(--primary)] opacity-80">
  <p class="text-sm uppercase tracking-widest m-0">&copy; Dayanne Dockhorn</p>
  <p class="text-sm uppercase tracking-widest m-0">&ndash; 13 &ndash;</p>
</footer>
</div>

<style>

  body {
    background-color: var(--primary);
  }
.top-bar {
  background-color: var(--light-green);
  color: #000;
  font-size: 1.75rem;
  margin: 1rem;
  padding: 10px 0;
  text-align: center;
}

.container {
  padding: 0 15px;
}
</style>

<script>
document.addEventListener('DOMContentLoaded', () => {
  const form = document.querySelector('form');
  const submitButton = form.querySelector('button[type="submit"]');
  const entregaInputs = form.querySelectorAll('input[name="entrega"]');
  const cepInput = form.querySelector('#cep');
  const cepLabel = form.querySelector('label[for="cep"]');
  const enderecoContainer = form.querySelector('#endereco');
  const naoSeiCepLink = form.querySelector('a[href*="buscacep.correios.com.br"]');

  // Hide address fields on load
  enderecoContainer.style.display = 'none';

  // Update submit button text when delivery option is selected
  entregaInputs.forEach(input => {
    input.addEventListener('change', (e) => {
      const price = e.target.id === 'retirar' ? 'R$ 55' : 'R$ 75';
      submitButton.textContent = `Continuar para o pagamento PIX (${price})`;
    });
  });

  // Create loader element
  const loader = document.createElement('span');
  loader.className = 'loader';
  loader.style.display = 'none';
  cepInput.parentNode.insertBefore(loader, cepInput.nextSibling);

  // Handle CEP input
  cepInput.addEventListener('input', async (e) => {
    const cep = e.target.value.replace(/\D/g, '');
    if (cep.length === 8) {
      cepInput.disabled = true;
      cepInput.style.color = 'gray';
      loader.style.display = 'inline-block';
      try {
        const response = await fetch(`https://brasilapi.com.br/api/cep/v1/${cep}`);
        if (!response.ok) {
          throw new Error('CEP não encontrado');
        }
        const data = await response.json();
        if (data.cep) {
          enderecoContainer.style.display = 'flex';
          replaceCepWithAddress(data);
          naoSeiCepLink.style.display = 'none';
        }
      } catch (error) {
        console.error('Error fetching CEP:', error);
        alert('CEP não encontrado. Por favor, verifique o CEP inserido.');
        cepInput.disabled = false;
        cepInput.style.color = '';
        cepInput.focus();
      } finally {
        loader.style.display = 'none';
      }
    }
  });

  function replaceCepWithAddress(data) {
    const addressHtml = `
      <div class="bg-transparent border border-white border-dashed text-sm text-white p-4">
        <div class="flex items-center gap-x-4 review-block-detailed-item">
          <div class="user-detail-icon icon-area">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#fff" viewBox="0 0 256 256"><path d="M128,64a40,40,0,1,0,40,40A40,40,0,0,0,128,64Zm0,64a24,24,0,1,1,24-24A24,24,0,0,1,128,128Zm0-112a88.1,88.1,0,0,0-88,88c0,31.4,14.51,64.68,42,96.25a254.19,254.19,0,0,0,41.45,38.3,8,8,0,0,0,9.18,0A254.19,254.19,0,0,0,174,200.25c27.45-31.57,42-64.85,42-96.25A88.1,88.1,0,0,0,128,16Zm0,206c-16.53-13-72-60.75-72-118a72,72,0,0,1,144,0C200,161.23,144.53,209,128,222Z"></path></svg>
          </div>
          <div class="center-area p-right">
            <div class="content">
              <p>${data.street}</p>
              <p><span class="text-bold">${data.cep}</span> - ${data.neighborhood}</p>
              <p>${data.city} - ${data.state}</p>
            </div>
          </div>
          <div class="change-button-area ml-auto">
            <div class="block-flex">
              <button id="change-address" class="text-[var(--light-pink)] underline text-xs" type="button">
                Alterar
              </button>
            </div>
          </div>
        </div>
      </div>
    `;

    const addressElement = document.createElement('div');
    addressElement.innerHTML = addressHtml;

    // Create hidden input for CEP
    const hiddenCepInput = document.createElement('input');
    hiddenCepInput.type = 'hidden';
    hiddenCepInput.name = 'cep';
    hiddenCepInput.value = data.cep;

    // Replace visible input with address display and hidden input
    const container = document.createElement('div');
    container.appendChild(addressElement);
    container.appendChild(hiddenCepInput);
    cepInput.parentNode.replaceChild(container, cepInput);
    cepLabel.style.display = 'none';

    // Add event listener to the "Alterar" button
    const changeButton = addressElement.querySelector('#change-address');
    changeButton.addEventListener('click', () => {
      container.parentNode.replaceChild(cepInput, container);
      cepInput.value = '';
      cepInput.disabled = false;
      cepInput.style.color = '';
      cepLabel.style.display = '';
      enderecoContainer.style.display = 'none';
      naoSeiCepLink.style.display = '';
    });
  }

  // Form submission
  form.addEventListener('submit', async (e) => {
    e.preventDefault();

    const submitButton = form.querySelector('button[type="submit"]');
    const originalButtonText = submitButton.textContent;

    // Validate required fields
    const requiredFields = form.querySelectorAll('[required]');
    let isValid = true;
    requiredFields.forEach(field => {
      if (!field.value.trim()) {
        isValid = false;
        field.classList.add('border-red-500');
      } else {
        field.classList.remove('border-red-500');
      }
    });

    if (!isValid) {
      alert('Por favor, preencha todos os campos obrigatórios.');
      return;
    }

    // Get selected delivery option
    const selectedDelivery = form.querySelector('input[name="entrega"]:checked');
    if (!selectedDelivery) {
      alert('Por favor, selecione uma opção de entrega.');
      return;
    }

    // Update button text and disable it
    submitButton.textContent = 'Processando seus dados...';
    submitButton.disabled = true;

    // Determine which Nubank link to use
    const nubankLink = selectedDelivery.id === 'retirar'
      ? 'https://nubank.com.br/cobrar/1caesf/66f55d32-40f3-411a-8c5a-884537475f31'
      : 'https://nubank.com.br/cobrar/1caesf/66f55dcc-b099-4074-8072-ef5175e8c9db';

    // Create FormData object
    const formData = new FormData(form);
    const object = Object.fromEntries(formData);
    const json = JSON.stringify(object);

    try {
      const response = await fetch('https://api.web3forms.com/submit', {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Accept': 'application/json'
        },
        body: json
      });

      const result = await response.json();

      if (response.status === 200) {
        console.log(result.message);
        // Handle success (e.g., show success message, clear form)
        form.reset();

        // Determine which Nubank link to use
        const nubankLink = selectedDelivery.id === 'retirar'
          ? 'https://nubank.com.br/cobrar/1caesf/66f55d32-40f3-411a-8c5a-884537475f31'
          : 'https://nubank.com.br/cobrar/1caesf/66f55dcc-b099-4074-8072-ef5175e8c9db';

        // Open Nubank link in a new tab
        window.open(nubankLink, '_blank');
      } else {
        console.error(result.message);
        throw new Error('Erro ao enviar o formulário');
      }
    } catch (error) {
      console.error('Error:', error);
      alert('Ocorreu um erro ao enviar o formulário. Por favor, tente novamente.');
    } finally {
      // Reset button text and re-enable it
      submitButton.textContent = originalButtonText;
      submitButton.disabled = false;
    }
  });
});
</script>
</body>
</html>
